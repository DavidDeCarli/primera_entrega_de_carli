def crearArchivo():
    file = open("data.txt", "w")
    file.write("[]")
    file.close()

def leerArchivo():
    file = open("data.txt", "r")
    miData = file.read()
    file.close()
    return miData

def guardarArchivo(miData):
    file = open("data.txt", "w")
    file.write(miData) # file.write(str(miData))
    file.close()
    print("Informacion guardada con éxito")

def nuevoUsuario():
    leerArchivo()
    usuario = input(f"Ingresa el nombre de usuario: ")
    contrasenia = input(f"Ingresa la contraseña: ")
    miData["user"].append(usuario)
    miData["password"].append(contrasenia)
    guardarArchivo(miData)
    input(f"Se registró el usuario {usuario} correctamente")

def login():
    user = input(f"Ingrese el usuario: ")
    password = input(f"Ingrese la contraseña: ")
    data = leerArchivo()

    usersList = data["user"]
    passwdList = data["password"]

    for i, usuario in enumerate(usersList):
        if user == usuario and password == passwdList[i]:
            print("Usuario correcto!")
            return

    print("Usuario o contraseña incorrecta...")

miData = leerArchivo()

select = int(input("Seleccione una opcion: \n 1. Nuevo usuario \n 2. Ingresar a la Aplicación \n 3. Salir de la Aplicación \n \n Opción: "))
if(select == 1):
    nuevoUsuario()
elif(select == 2):
    login()
elif(select == 3):
    exit()
else:
    print("Opcion inválida")